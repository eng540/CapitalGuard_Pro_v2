# .env.example
# CapitalGuard Pro v2 - Environment Variables (v2.0 - AI Service Flexible)
# -------------------------------------------------
# Copy this file to .env and fill in your actual values.
# --- APPLICATION / DATABASE ---
ENV=dev
DATABASE_URL=postgresql+psycopg://cg:cgpass@db:5432/capitalguard


# --- TELEGRAM BOT ---
TELEGRAM_BOT_TOKEN=

# --- CHANNEL CONFIGURATION ---
# The numeric Chat ID of your main/public channel for "Force Subscription".
# Users must join this channel to use the bot.
TELEGRAM_CHAT_ID=

# The full, public invite link for your main channel.
# This will be shown to users who are not yet subscribed.
TELEGRAM_CHANNEL_INVITE_LINK=

# ✅ NEW & CRITICAL: The numeric Chat ID for sending admin notifications and error logs.
# This should be a PRIVATE channel or your personal chat with the bot.
# To get your personal ID, send a message to @userinfobot.
TELEGRAM_ADMIN_CHAT_ID=

# --- ADMIN CONFIGURATION ---
# A comma-separated list of Telegram usernames for bot administrators (without @).
ADMIN_USERNAMES=

# The public contact handle for the admin (e.g., @AdminUsername).
ADMIN_CONTACT=

# --- WEBHOOK (PRODUCTION ONLY) ---
TELEGRAM_WEBHOOK_URL=


# --- API & SECURITY ---
API_KEY=change-me
TV_WEBHOOK_SECRET=your_tradingview_webhook_secret


# --- ✅ UPDATED: AI SERVICE CONFIGURATION (Flexible) ---
# The *internal* URL for the AI parsing microservice.
AI_SERVICE_URL=http://ai-service:8001/ai/parse

# --- AI PROVIDER SETTINGS ---
# 1. Choose your provider: "google", "openai", or "openrouter"
LLM_PROVIDER=google

# 2. Set the API Key for your chosen provider
LLM_API_KEY=AIzaSy... (Your Google API Key)
# LLM_API_KEY=sk-... (Your OpenAI or OpenRouter Key)

# 3. Set the *full* API URL for your chosen provider
LLM_API_URL=https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent
# LLM_API_URL=https://api.openai.com/v1/chat/completions
# LLM_API_URL=https://api.openrouter.ai/v1/chat/completions

# 4. Set the model name for your chosen provider
LLM_MODEL=gemini-1.5-flash
# LLM_MODEL=gpt-4o-mini
# LLM_MODEL=anthropic/claude-3-haiku


# --- BINANCE API CREDENTIALS (Optional) ---
BINANCE_API_KEY=
BINANCE_API_SECRET=
BINANCE_FUT_API_KEY=
BINANCE_FUT_API_SECRET=


# --- FEATURE TOGGLES & SETTINGS ---
AUTO_TRADE_ENABLED=0
TRADE_LIVE_ENABLED=0
RISK_DEFAULT_PCT=1.0
MARKET_DATA_PROVIDER="binance"


# --- OBSERVABILITY (Optional) ---
SENTRY_DSN=